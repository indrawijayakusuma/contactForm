<!DOCTYPE html>
<html data-theme="light" lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.css" rel="stylesheet" type="text/css" /> -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.css"  rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/b249ac0a69.js" crossorigin="anonymous"></script>
  <title>test</title>
</head>

<body>
  
  <nav class="bg-white g-base-100 shadow-md mb-5">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <a href="https://flowbite.com/" class="flex items-center">
        <img src="https://upload.wikimedia.org/wikipedia/id/thumb/5/55/BNI_logo.svg/2560px-BNI_logo.svg.png" class="h-8 mr-3" alt="Flowbite Logo" />
        <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Flowbite</span>
    </a>
    <div class="flex md:order-2">
        <button type="button" class="text-white bg-orange-500 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0">Get started</button>
    </div>
    </div>
  </nav>

  <div class="flex lg:w-[50%] w-[90%] justify-center m-auto rounded-lg shadow-md mb-4">
    <div class="p-8  w-full bg-white">
      <h1 class="m-auto font-bold text-xl mb-2">Form Program</h1>
      <p class="text-justify text-sm text-gray-600">Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores facere accusamus id cum. Voluptates at cumque molestias beatae, natus itaque facere vero earum nulla velit ipsam cum maiores, qui minima.</p>
    </div>
  </div>

  <div class="flex lg:w-[50%] w-[90%] justify-center m-auto rounded-lg shadow-lg">
    <div class="p-8 w-full bg-white">
      <div class="mt-1">
        <div
          class="my-alert flex justify-between hidden bg-gray-50 border border-green-200 text-sm text-green-600 rounded-md p-4"
          role="alert">
          <div>
            <span class="font-bold">Success</span> submited! data anda telah terkirim.
          </div>
          <strong class="text-xl align-center cursor-pointer alert-del">&times;</strong>
        </div>
        <form th:action="@{/process-login}" method="post" name="wpu-contact-form">
          <div class="first-section"> 
            <p class="m-auto font-bold text-xl">Personal Information</p>
            <p class="text-sm text-gray-400 mb-6">Please enter your personal information</p>
            <div class="my-3">
              <input placeholder="Enter your name" type="text" name="nama" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
            <div class="my-3">
              <input placeholder="Enter your phone number" type="text" name="phone" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
          </div>
          <div class="secound-section hidden">
            <p class="m-auto font-bold text-xl">Store Information</p>
            <p class="text-sm text-gray-400 mb-6">Please enter your store information</p>
            <div class="my-3">
              <input placeholder="Enter your store name" type="text" name="storeName" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
            <div class="my-3">
              <textarea id="message" rows="4" name="address" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your store address"></textarea>
            </div>
            <div class="my-3">
              <input placeholder="Enter your store phone number" type="text" name="storePhoneNumber" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
          </div>
          <div class="third-section hidden">
            <p class="m-auto font-bold text-xl">Social Media</p>
            <p class="text-sm text-gray-400 mb-6">Please enter your store social media</p>
            <div class="my-3">
              <input placeholder="Enter your store instagram" type="text" name="instagram" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
            <div class="my-3">
              <input placeholder="Enter your store tiktok" type="text" name="tiktok" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
            <div class="my-3">
              <input placeholder="Enter your store facebook" type="text" name="facebook" class="border-gray-300 p-6 border w-full h-11 rounded-xl" />
            </div>
          </div>
          <div class="flex justify-center m-auto gap-2 w-[70%] mt-8">
            <button type="button" disabled
              class="btn-loading inline-flex w-auto cursor-pointer select-none hidden appearance-none items-center justify-center space-x-2 rounded border border-blue-700 bg-blue-700 px-3 py-2 text-sm font-medium text-white transition hover:border-blue-800 hover:bg-blue-800 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300 disabled:pointer-events-none disabled:opacity-75">
              <svg class="h-4 w-4 animate-spin" viewBox="3 3 18 18">
                <path class="fill-blue-800"
                  d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5ZM3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z">
                </path>
                <path class="fill-blue-100"
                  d="M16.9497 7.05015C14.2161 4.31648 9.78392 4.31648 7.05025 7.05015C6.65973 7.44067 6.02656 7.44067 5.63604 7.05015C5.24551 6.65962 5.24551 6.02646 5.63604 5.63593C9.15076 2.12121 14.8492 2.12121 18.364 5.63593C18.7545 6.02646 18.7545 6.65962 18.364 7.05015C17.9734 7.44067 17.3403 7.44067 16.9497 7.05015Z">
                </path>
              </svg>
              <span>Loading...</span>
            </button>
            <button class="btn-next-second py-2 bg-[#FF6600] border-0 w-full text-white rounded-2xl">Next</button>
            <button class="btn-next-third hidden py-2 bg-[#FF6600] border-0 w-full text-white rounded-2xl">Next</button>
            <button class="btn-kirim hidden py-2 bg-[#FF6600] border-0 w-full text-white rounded-2xl"
              type="submit">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwfrdU3WkDMf0PQI3iCTbMWTCR7Epnp4_xONCW2n4opkkO6Q4AG9OubPHSSe_7xKXBi/exec';
    const form = document.forms['wpu-contact-form'];
    const btnKirim = document.querySelector('.btn-kirim');
    const btnNextToSecond = document.querySelector('.btn-next-second');
    const btnNextToThird = document.querySelector('.btn-next-third');
    const btnLoading = document.querySelector('.btn-loading');
    const myAlert = document.querySelector('.my-alert');
    const alert_del = document.querySelector('.alert-del');
    const secondSection = document.querySelector('.secound-section');
    const firstSection = document.querySelector('.first-section');
    const thirdSection = document.querySelector('.third-section');

    const second = () => {
      secondSection.classList.toggle('hidden');
      firstSection.classList.toggle('hidden');
      btnNextToSecond.classList.toggle('hidden');
      btnNextToThird.classList.toggle('hidden');
    }

    const third = () => {
      btnNextToThird.classList.toggle('hidden');
      secondSection.classList.toggle('hidden');
      thirdSection.classList.toggle('hidden');
      btnKirim.classList.toggle('hidden');
    }

    btnNextToSecond.addEventListener('click', (e) => {
      e.preventDefault();
      second();
    });

    btnNextToThird.addEventListener('click', (e) => {
      e.preventDefault();
      third();
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      // ketika tombol submit diklik
      // tampilkan tombol loading, hilangkan tombol kirim
      btnLoading.classList.toggle('hidden');
      btnKirim.classList.toggle('hidden');
      fetch(scriptURL, { method: 'POST', body: new FormData(form) })
        .then((response) => {
          // tampilkan tombol kirim, hilangkan tombol loading
          btnLoading.classList.toggle('hidden');
          btnKirim.classList.toggle('hidden');
          // // tampilkan alert
          myAlert.classList.toggle('hidden');

          form.reset();
          console.log('Success!', response);
        })
        .catch((error) => console.error('Error!', error.message));
    });

    alert_del.addEventListener('click', () => {
      alert_del.parentElement.classList.add('hidden');
    })
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.js"></script>
</body>

</html>